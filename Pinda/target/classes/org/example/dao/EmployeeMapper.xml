<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace:????-->
<mapper namespace="org.example.dao.EmployeeMapper">

    <!--
    id:resultMap??????
    type:resultMap???????
    -->

    <insert id="insert">
        insert into employee (employee_id,created_time,modified_time,name,phonenumber,occupation,permissions,deleted) values(#{employee_id},#{created_time},#{modified_time},#{name},#{phonenumber},#{occupation},#{permissions},#{deleted})
    </insert>
    <delete id="delete">
        delete from employee where employee_id = #{employee_id}
    </delete>
    <update id="update">
        update employee set created_time = #{created_time},modified_time = #{modified_time},name = #{name},phonenumber = #{phonenumber},occupation = #{occupation},permissions = #{permissions},deleted = #{deleted} where employee_id = #{employee_id}
    </update>
    <select id="findbyid" resultType="org.example.pojo.Employee">
        select * from employee where employee_id = #{employee_id}
    </select>
    <select id="findall" resultType="org.example.pojo.Employee">
        select * from employee
    </select>
    <select id="findEmployeeByphonenumberandoccupation" resultType="org.example.pojo.Employee">
        select * from employee
        where
        <where>
            <!--??if????????????sql-->
            <if test="employee_id != null and order_id != '' ">
                and order_id like concat('%',#{order_id},'%')
            </if>
            <if test="user_id != null and user_id != '' ">
                and user_id like concat('%',#{user_id},'%')
            </if>
            <if test="employee_id != null and employee_id != '' ">
                and employee_id like concat('%',#{employee_id},'%')
            </if>
            <if test="state != null and state != '' ">
                and state like concat('%',#{state},'%')
            </if>
            <if test="start_location != null and start_location != '' ">
                and start_location like concat('%',#{start_location},'%')
            </if>
            <if test="destination != null and destination != '' ">
                and destination like concat('%',#{destination},'%')
            </if>
            <if test="amount != null and amount != '' and (amount > 0 or amount = 0)">
                and amount like concat('%',#{amount},'%')
            </if>
        </where>
    </select>
</mapper>